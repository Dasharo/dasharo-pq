From 3a8f6e454676ddb0845f5aeb259f8ac382407184 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Micha=C5=82=20=C5=BBygowski?= <michal.zygowski@3mdeb.com>
Date: Thu, 30 May 2019 11:44:11 +0200
Subject: [PATCH 44/80] src/vendorcode/amd/pi/Makefile.inc: strip quotes from
 AGESA CBFS name
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Michał Żygowski <michal.zygowski@3mdeb.com>
---
 src/vendorcode/amd/pi/Makefile.inc | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

diff --git a/src/vendorcode/amd/pi/Makefile.inc b/src/vendorcode/amd/pi/Makefile.inc
index d36671a06f9e..0938b48b0eba 100644
--- a/src/vendorcode/amd/pi/Makefile.inc
+++ b/src/vendorcode/amd/pi/Makefile.inc
@@ -135,9 +135,11 @@ ramstage-libs += $(agesa_output_path)/libagesa.a
 
 #######################################################################
 
-cbfs-files-y += $(CONFIG_AGESA_CBFS_NAME)
-$(CONFIG_AGESA_CBFS_NAME)-file := $(CONFIG_AGESA_BINARY_PI_FILE)
-$(CONFIG_AGESA_CBFS_NAME)-type := raw
-$(CONFIG_AGESA_CBFS_NAME)-position := $(CONFIG_AGESA_BINARY_PI_LOCATION)
+agesa_binary := $(call strip_quotes,$(CONFIG_AGESA_CBFS_NAME))
+
+cbfs-files-y += $(agesa_binary)
+$(agesa_binary)-file := $(CONFIG_AGESA_BINARY_PI_FILE)
+$(agesa_binary)-type := raw
+$(agesa_binary)-position := $(CONFIG_AGESA_BINARY_PI_LOCATION)
 
 endif
-- 
2.39.2

